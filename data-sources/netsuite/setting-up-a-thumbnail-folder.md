# Setting up a thumbnail folder

(Work in progress)



While not strictly necessary, it is recommended to setup a thumbnails folder in NetSuite. This lets you generate an image preview for a file in NetSuite.

## NetSuite Setup of Thumbnail folder

To successfully upload thumbnails to NetSuite, you need the following 3 things:

* OAuth `clientId` and `clientSecret` (aka consumer key and consumer secret)
* A `scriptId`
* A `folderId`
* A variable to assign the fileId to

Steps involved in setting up NetSuite:

* [Setup OAuth](oauth-setup/) - gives you permissions to upload files + `clientId` and `clientSecret`
* Setup restlet for uploading thumbnails ([SuiteApi](suite-api-setup.md)) - gives you the `scriptId`
* Setup an [upload folder](create-an-uploads-folder.md) - gives you the `folderId`
* Putting it all together - configuring the datasource in SharpSync

### Putting it all together - Setup the datasource

**Goal**: To configure the datasource in SharpSync

* Setup the datasource to point to the new restlet (this step)

With the copied URL in the previous step, and the `folderId` and `scriptId` in hand, it's time to setup the datasource in SharpSync.

In SharpSync add a new data source > NetSuite.

#### Configuring NetSuite

There are 2 configuration sections for each Data Source

* Authentication
* BOM Configuration

**Authentication**

* Navigate to the Data Sources > Config UI
* Select the NetSuite Data Source > Add
* Set the `Server Url` > Click `Update`
* Click the Ping button to test the connection. This is optional and will not work if ICMP is disabled on the server
* Click the 'Configure' button
*   Enter the following values:

    | Name                | Description                                                                                                                                    | Recommended value                                                                 |
    | ------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------- |
    | Base API Path       | The location where data is pulled from                                                                                                         | https://{companyId}.suitetalk.api.netsuite.com                                    |
    | Authentication Type | Which authentication method you'd like to use to connect to NetSuite                                                                           | OAuth 2.0                                                                         |
    | OAuth Url           | The URL against which your OAuth authentication occurs                                                                                         | https://{companyId}.app.netsuite.com/app/login/oauth2/authorize.nl                |
    | OAuth Token Url     | The URL against which your OAuth token is refreshed                                                                                            | https://{companyId}.suitetalk.api.netsuite.com/services/rest/auth/oauth2/v1/token |
    | Client Id           | The client id generated by the integration record created                                                                                      | -                                                                                 |
    | Client Secret       | The client secrete generated by the integration record created                                                                                 | -                                                                                 |
    | OAuth Scopes        | The scopes required to get data. The `restlets` scope is optional but highly recommended. Without it you will not be able to upload thumbnails | rest\_webservices,restlets                                                        |

**BOM Configuration**

NetSuite supports advanced BOMs (Bill of materials with revisions), but this is not the  default. Below you'll find some information on configuration options for standard BOMs

| Name                                            | Description                                                                                                                               | Recommended value                                                                                                                                            |
| ----------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Default item type to use when creating BOM item | When creating a new item, if the item cannot be reliably determined from SharpSync, this is the fallback type to be used                  | inventoryitem                                                                                                                                                |
| Item types to load properties for               | When loading Property Mappings, these are the item types searched                                                                         | assemblyitem\|noninventoryresaleitem\|noninventorysaleitem\|noninventorypurchaseitem\|inventoryitem\|bom\|bomRevision\|manufacturingRouting                  |
| Servlet URL                                     | The url of the servlet where thumbnails will be uploaded. Optional but recommended. If specified, include the `folderId` param at the end | <p>https://{companyId}.restlets.api.netsuite.com/app/site/hosting/restlet.nl?script=2943&#x26;deploy=1&#x26;folderId={folderId}<br><br>** see more below</p> |
| Use server side scripting for items             | Use the server to update custom fields for items which are not surfaced in the NetSuite api.                                              | Only set if the defaults don't provide enough functionality                                                                                                  |
| Use advanced BOMs                               | Check to use the advanced BOMs module in NetSuite                                                                                         |                                                                                                                                                              |
| Bom Naming Scheme                               | The scheme used to generate BOM names                                                                                                     |                                                                                                                                                              |
| Bom Revision Naming Scheme                      | The scheme used to generate BOM revision names                                                                                            |                                                                                                                                                              |

#### Servlet URL configuration

* Enter the URL of the restlet, followed by `&folderId=` and the id of the folder in the first steps
* Remember to update the `script`or `deploy`id if the script or deployment status is updated&#x20;
* Enter the folder ID into the UI in the form

> `{{netsuite-api}}`/app/site/hosting/restlet.nl?script={yourScriptId}\&deploy=1\&folderId={folderId}

e.g.

> `{{netsuite-api}}`/app/site/hosting/restlet.nl?script=`2743`\&deploy=1\&folderId=`19578359`

See also

* OAuth
